<div class="login-container">
  <div class="login-card">
    <!-- Header avec logo et titre -->
    <div class="login-header">
      <div class="logo">
        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="48" height="48" rx="8" fill="#2563EB"/>
          <path d="M12 16H36V32H12V16Z" stroke="white" stroke-width="2" fill="none"/>
          <path d="M20 20V28M28 20V28" stroke="white" stroke-width="2"/>
          <circle cx="24" cy="12" r="3" stroke="white" stroke-width="2" fill="none"/>
        </svg>
      </div>
      <h1 class="app-title">GDPR Manager</h1>
      <p class="app-subtitle">Gestion des données personnelles</p>
    </div>

    <!-- Formulaire de connexion -->
    <form class="login-form" (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="form-group">
        <label for="email" class="form-label">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M2 3h12l-6 4-6-4z"/>
            <path d="M2 3v10h12V3l-6 4-6-4z" fill="none" stroke="currentColor" stroke-width="0.5"/>
          </svg>
          Adresse email
        </label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="email"
          required
          email
          class="form-input"
          placeholder="votre.email@entreprise.com"
          #emailInput="ngModel"
        />
        <div class="error-message" *ngIf="emailInput.invalid && emailInput.touched">
          <span *ngIf="emailInput.errors?.['required']">L'adresse email est requise</span>
          <span *ngIf="emailInput.errors?.['email']">Format d'email invalide</span>
        </div>
      </div>

      <div class="form-group">
        <label for="password" class="form-label">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4 6h8V4a4 4 0 0 0-8 0v2zM2 8v6h12V8H2z"/>
          </svg>
          Mot de passe
        </label>
        <div class="password-input-container">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            [(ngModel)]="password"
            required
            minlength="6"
            class="form-input"
            placeholder="••••••••"
            #passwordInput="ngModel"
          />
          <button
            type="button"
            class="password-toggle"
            (click)="togglePasswordVisibility()"
            tabindex="-1"
          >
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" *ngIf="!showPassword">
              <path d="M8 2C4.5 2 1.73 4.11 1 7c.73 2.89 3.5 5 7 5s6.27-2.11 7-5c-.73-2.89-3.5-5-7-5zM8 10.5c-1.93 0-3.5-1.57-3.5-3.5S6.07 3.5 8 3.5s3.5 1.57 3.5 3.5S9.93 10.5 8 10.5zM8 5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
            </svg>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" *ngIf="showPassword">
              <path d="M2 1l12 12-1 1L1 2l1-1zM8 2C4.5 2 1.73 4.11 1 7c.73 2.89 3.5 5 7 5 .93 0 1.83-.19 2.65-.53l-1.4-1.4C8.83 9.85 8.42 10 8 10c-1.1 0-2-.9-2-2 0-.42.15-.83.47-1.15L5.07 5.45C3.36 6.07 2.12 6.89 1 7c.73 2.89 3.5 5 7 5l-1.4 1.4z"/>
            </svg>
          </button>
        </div>
        <div class="error-message" *ngIf="passwordInput.invalid && passwordInput.touched">
          <span *ngIf="passwordInput.errors?.['required']">Le mot de passe est requis</span>
          <span *ngIf="passwordInput.errors?.['minlength']">Minimum 6 caractères requis</span>
        </div>
      </div>

      <!-- Mémoriser la connexion -->
      <div class="form-options">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="rememberMe" name="rememberMe" class="checkbox-input">
          <span class="checkbox-custom"></span>
          Se souvenir de moi
        </label>
      </div>

      <!-- Message d'erreur global -->
      <div class="alert alert-error" *ngIf="errorMessage">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zM7 4h2v5H7V4zM8 11.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"/>
        </svg>
        {{ errorMessage }}
      </div>

      <!-- Bouton de connexion -->
      <button
        type="submit"
        class="btn btn-primary btn-large"
        [disabled]="loginForm.invalid || isLoading"
      >
        <div class="btn-content">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" *ngIf="isLoading" class="spinner">
            <path d="M8 2v2c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4H2c0 3.3 2.7 6 6 6s6-2.7 6-6-2.7-6-6-6z"/>
          </svg>
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" *ngIf="!isLoading">
            <path d="M10 2v3h4v6h-4v3l6-6-6-6zM6 4H2v8h4v2H0V2h6v2z"/>
          </svg>
          <span>{{ isLoading ? 'Connexion en cours...' : 'Se connecter' }}</span>
        </div>
      </button>
    </form>

    <!-- Actions secondaires -->
    <div class="login-actions">
      <button type="button" class="btn btn-outline" (click)="onForgotPassword()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7c1.5 0 2.9-.5 4.1-1.3l-1.4-1.4C9.9 12.8 9 13 8 13c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5c0 .6-.1 1.1-.3 1.6L11 8.3c.3-.7.5-1.4.5-2.3 0-2.8-2.2-5-5-5z"/>
          <path d="M11.5 10.5c.3 0 .5.2.5.5s-.2.5-.5.5-.5-.2-.5-.5.2-.5.5-.5z"/>
        </svg>
        Mot de passe oublié ?
      </button>

      <button type="button" class="btn btn-secondary" (click)="onRegister()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zM12 8.5H8.5V12H7.5V8.5H4V7.5h3.5V4H8.5v3.5H12V8.5z"/>
        </svg>
        S'inscrire
      </button>
    </div>

    <!-- Footer -->
    <div class="login-footer">
      <p class="footer-text">
        En vous connectant, vous acceptez nos
        <a href="#" class="footer-link">conditions d'utilisation</a>
        et notre
        <a href="#" class="footer-link">politique de confidentialité</a>
      </p>
    </div>
  </div>

  <!-- Décoration de fond -->
  <div class="background-decoration">
    <div class="decoration-circle circle-1"></div>
    <div class="decoration-circle circle-2"></div>
    <div class="decoration-circle circle-3"></div>
  </div>
</div>