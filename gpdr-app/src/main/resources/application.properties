# Application Configuration
spring.application.name=gdpr-app
server.port=${PORT:8080}

# DATABASE CONFIG FOR RENDER
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update

# JPA/Hibernate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jackson.serialization.fail-on-empty-beans=false
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=false

# (Render n?utilise pas H2, mais je laisse juste désactivé)
spring.h2.console.enabled=false

# EMAIL CONFIG (ENV VARS)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# App Email Settings
app.mail.from=${MAIL_USERNAME}
app.name=GDPR Application
app.url=${APP_URL}

# JWT CONFIG
jwt.secret=${JWT_SECRET}
jwt.expirationTokenMs=1800000
jwt.expirationRefreshTokenMs=2592000000

# CORS for Angular deployed online
cors.allowed-origins=${CORS_ALLOWED_ORIGINS}

# Swagger
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.filter=true
springdoc.swagger-ui.displayRequestDuration=true
springdoc.swagger-ui.displayOperationId=false
springdoc.swagger-ui.defaultModelsExpandDepth=1
springdoc.swagger-ui.defaultModelExpandDepth=1
springdoc.swagger-ui.persistAuthorization=true

springdoc.api-docs.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.override-with-generic-response=false

# Logging
logging.level.be.helha.gdprapp=DEBUG
logging.level.org.springframework.security=DEBUG
